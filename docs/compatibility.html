<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure API Compatibility - Mockzure</title>
    <meta name="description" content="Azure API compatibility report for Mockzure - comprehensive compatibility matrix and endpoint support details.">
    <link rel="stylesheet" href="assets/style.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîµ</text></svg>">
</head>
<body>
    <header class="header">
        <div class="header-content">
            <a href="index.html" class="logo">üîµ Mockzure</a>
            <nav class="nav">
                <a href="index.html">Home</a>
                <a href="getting-started.html">Getting Started</a>
                <a href="api-reference.html">API Reference</a>
                <a href="architecture.html">Architecture</a>
                <a href="compatibility.html">Compatibility</a>
                <a href="coverage.html">Coverage</a>
                <a href="https://github.com/YourCloudTools/Mockzure" target="_blank">GitHub</a>
            </nav>
        </div>
    </header>

    <main class="main">
        <div class="page-header">
            <h1>Azure API Compatibility</h1>
            <p>Comprehensive compatibility report for Mockzure with Azure APIs</p>
        </div>

        <section>
            <div class="card">
                <h3>üìä Executive Summary</h3>
                <p><strong>Generated:</strong> 2025-10-16 12:56:43 UTC</p>
                <p><strong>Mockzure Version:</strong> v1.0.0</p>
                <p><strong>Overall Compatibility Score:</strong> <span class="status-supported">84.2%</span> (16/19 endpoints fully supported)</p>
            </div>
        </section>

        <section>
            <h2>Compatibility Matrix</h2>
            <table>
                <thead>
                    <tr>
                        <th>API Category</th>
                        <th>Support Level</th>
                        <th>Coverage</th>
                        <th>Notes</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Microsoft Identity Platform (OIDC)</td>
                        <td><span class="status-supported">‚úÖ Full</span></td>
                        <td>6/6</td>
                        <td>Full OIDC/OAuth2 support with user selection UI. Uses unsigned JWTs for testing.</td>
                    </tr>
                    <tr>
                        <td>Microsoft Graph API</td>
                        <td><span class="status-partial">‚ö†Ô∏è Partial</span></td>
                        <td>3/3</td>
                        <td>Requires proper Graph permissions (User.Read.All). Supports service account authentication.</td>
                    </tr>
                    <tr>
                        <td>Azure Resource Manager (ARM)</td>
                        <td><span class="status-supported">‚úÖ Full</span></td>
                        <td>6/6</td>
                        <td>Full ARM compatibility with proper RBAC enforcement. Supports both ARM and simplified endpoints.</td>
                    </tr>
                    <tr>
                        <td>RBAC & Authorization</td>
                        <td><span class="status-supported">‚úÖ Full</span></td>
                        <td>4/4</td>
                        <td>Comprehensive RBAC with service account permissions, Graph API scopes, and resource-level access control.</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section>
            <h2>Detailed Breakdown</h2>

            <h3>‚úÖ Microsoft Identity Platform (OIDC)</h3>
            <div class="card">
                <p><strong>Support Level:</strong> Fully Supported</p>
                <p><strong>Coverage:</strong> 6/6</p>
                <p><strong>Notes:</strong> Full OIDC/OAuth2 support with user selection UI. Uses unsigned JWTs for testing.</p>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Endpoint</th>
                        <th>Method</th>
                        <th>Description</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>/.well-known/openid-configuration</code></td>
                        <td>GET</td>
                        <td>OIDC Discovery</td>
                        <td><span class="status-supported">‚úÖ</span></td>
                    </tr>
                    <tr>
                        <td><code>/common/v2.0/.well-known/openid-configuration</code></td>
                        <td>GET</td>
                        <td>Tenant-specific Discovery</td>
                        <td><span class="status-supported">‚úÖ</span></td>
                    </tr>
                    <tr>
                        <td><code>/oauth2/v2.0/authorize</code></td>
                        <td>GET</td>
                        <td>Authorization Code Flow</td>
                        <td><span class="status-supported">‚úÖ</span></td>
                    </tr>
                    <tr>
                        <td><code>/oauth2/v2.0/token</code></td>
                        <td>POST</td>
                        <td>Token Issuance (Client Credentials)</td>
                        <td><span class="status-supported">‚úÖ</span></td>
                    </tr>
                    <tr>
                        <td><code>/oauth2/v2.0/token</code></td>
                        <td>POST</td>
                        <td>Token Issuance (Authorization Code)</td>
                        <td><span class="status-supported">‚úÖ</span></td>
                    </tr>
                    <tr>
                        <td><code>/oidc/userinfo</code></td>
                        <td>GET</td>
                        <td>User Information</td>
                        <td><span class="status-supported">‚úÖ</span></td>
                    </tr>
                </tbody>
            </table>

            <h3>‚ö†Ô∏è Microsoft Graph API</h3>
            <div class="card">
                <p><strong>Support Level:</strong> Partially Supported</p>
                <p><strong>Coverage:</strong> 3/3</p>
                <p><strong>Notes:</strong> Requires proper Graph permissions (User.Read.All). Supports service account authentication.</p>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Endpoint</th>
                        <th>Method</th>
                        <th>Description</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>/mock/azure/users</code></td>
                        <td>GET</td>
                        <td>List Users</td>
                        <td><span class="status-partial">‚ö†Ô∏è</span></td>
                    </tr>
                    <tr>
                        <td><code>/mock/azure/users/{id}</code></td>
                        <td>GET</td>
                        <td>Get User</td>
                        <td><span class="status-partial">‚ö†Ô∏è</span></td>
                    </tr>
                    <tr>
                        <td><code>/mock/azure/users</code></td>
                        <td>POST</td>
                        <td>Create User</td>
                        <td><span class="status-partial">‚ö†Ô∏è</span></td>
                    </tr>
                </tbody>
            </table>

            <h3>‚úÖ Azure Resource Manager (ARM)</h3>
            <div class="card">
                <p><strong>Support Level:</strong> Fully Supported</p>
                <p><strong>Coverage:</strong> 6/6</p>
                <p><strong>Notes:</strong> Full ARM compatibility with proper RBAC enforcement. Supports both ARM and simplified endpoints.</p>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Endpoint</th>
                        <th>Method</th>
                        <th>Description</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>/subscriptions/{subId}/resourceGroups/{rg}/providers/Microsoft.Compute/virtualMachines</code></td>
                        <td>GET</td>
                        <td>List VMs (ARM format)</td>
                        <td><span class="status-supported">‚úÖ</span></td>
                    </tr>
                    <tr>
                        <td><code>/subscriptions/{subId}/resourceGroups/{rg}/providers/Microsoft.Compute/virtualMachines/{vmName}</code></td>
                        <td>GET</td>
                        <td>Get VM (ARM format)</td>
                        <td><span class="status-supported">‚úÖ</span></td>
                    </tr>
                    <tr>
                        <td><code>/subscriptions/{subId}/resourceGroups/{rg}/providers/Microsoft.Compute/virtualMachines/{vmName}?$expand=instanceView</code></td>
                        <td>GET</td>
                        <td>Get VM with Instance View</td>
                        <td><span class="status-supported">‚úÖ</span></td>
                    </tr>
                    <tr>
                        <td><code>/mock/azure/vms/{vmName}/start</code></td>
                        <td>POST</td>
                        <td>Start VM</td>
                        <td><span class="status-supported">‚úÖ</span></td>
                    </tr>
                    <tr>
                        <td><code>/mock/azure/vms/{vmName}/stop</code></td>
                        <td>POST</td>
                        <td>Stop VM</td>
                        <td><span class="status-supported">‚úÖ</span></td>
                    </tr>
                    <tr>
                        <td><code>/mock/azure/vms/{vmName}/restart</code></td>
                        <td>POST</td>
                        <td>Restart VM</td>
                        <td><span class="status-supported">‚úÖ</span></td>
                    </tr>
                </tbody>
            </table>

            <h3>‚úÖ RBAC & Authorization</h3>
            <div class="card">
                <p><strong>Support Level:</strong> Fully Supported</p>
                <p><strong>Coverage:</strong> 4/4</p>
                <p><strong>Notes:</strong> Comprehensive RBAC with service account permissions, Graph API scopes, and resource-level access control.</p>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Endpoint</th>
                        <th>Method</th>
                        <th>Description</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Service Account Authentication</td>
                        <td>BASIC</td>
                        <td>Basic Auth for Service Principals</td>
                        <td><span class="status-supported">‚úÖ</span></td>
                    </tr>
                    <tr>
                        <td>Graph API Permissions</td>
                        <td>CHECK</td>
                        <td>User.Read.All permission enforcement</td>
                        <td><span class="status-supported">‚úÖ</span></td>
                    </tr>
                    <tr>
                        <td>Resource Group Permissions</td>
                        <td>CHECK</td>
                        <td>Read/Write/Start/Stop permissions</td>
                        <td><span class="status-supported">‚úÖ</span></td>
                    </tr>
                    <tr>
                        <td>Role-based Access Control</td>
                        <td>CHECK</td>
                        <td>Scope-based authorization</td>
                        <td><span class="status-supported">‚úÖ</span></td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section>
            <h2>Known Limitations</h2>
            <p>The following limitations apply to Mockzure compared to real Azure APIs:</p>

            <div class="cards">
                <div class="card">
                    <h3>üîê Security</h3>
                    <ul>
                        <li>Uses unsigned JWTs for testing (not suitable for production)</li>
                        <li>Simplified user roles compared to real Azure RBAC</li>
                        <li>No certificate-based authentication</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>üìä Data & Persistence</h3>
                    <ul>
                        <li>Limited Graph API scope (only User.Read.All implemented)</li>
                        <li>No long-running operations (LRO) support</li>
                        <li>Mock data only - no persistence to real Azure</li>
                        <li>In-memory storage only</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>üîß Integration</h3>
                    <ul>
                        <li>No Azure CLI integration</li>
                        <li>No Azure PowerShell support</li>
                        <li>Limited to development/testing scenarios</li>
                        <li>No multi-tenant support</li>
                    </ul>
                </div>
            </div>
        </section>

        <section>
            <h2>Testing Instructions</h2>
            <p>To run the compatibility tests and generate this report:</p>

            <h3>Run All Compatibility Tests</h3>
            <pre><code># Run all compatibility tests
go test -v -run "TestMicrosoft|TestAzure|TestRBAC" ./...</code></pre>

            <h3>Generate Compatibility Report</h3>
            <pre><code># Generate this report
go run generate_compatibility_report.go</code></pre>

            <h3>Test Specific Categories</h3>
            <pre><code># Test OIDC endpoints
go test -v -run "TestMicrosoft" ./...

# Test ARM endpoints
go test -v -run "TestAzure" ./...

# Test RBAC
go test -v -run "TestRBAC" ./...</code></pre>
        </section>

        <section>
            <h2>Report Generation</h2>
            <p>This report is automatically generated from compatibility tests. To update this report:</p>

            <ol>
                <li>Run the compatibility tests to ensure all endpoints are working</li>
                <li>Execute <code>go run generate_compatibility_report.go</code> from the project root</li>
                <li>The report will be updated with current compatibility status</li>
                <li>Commit the updated report to the repository</li>
            </ol>

            <div class="card">
                <h3>üîÑ Automated Updates</h3>
                <p>This report is updated automatically as part of the CI/CD pipeline when compatibility tests are run.</p>
            </div>
        </section>

        <section>
            <h2>Compatibility by Use Case</h2>
            <p>Mockzure compatibility varies by use case and integration scenario:</p>

            <div class="cards">
                <div class="card">
                    <h3>üéØ Development & Testing</h3>
                    <p><strong>Compatibility:</strong> <span class="status-supported">Excellent</span></p>
                    <ul>
                        <li>Perfect for local development</li>
                        <li>Ideal for unit and integration testing</li>
                        <li>Great for CI/CD pipeline testing</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>üîß Sandman Integration</h3>
                    <p><strong>Compatibility:</strong> <span class="status-supported">Excellent</span></p>
                    <ul>
                        <li>Designed specifically for Sandman</li>
                        <li>Full OIDC/OAuth2 support</li>
                        <li>Complete ARM endpoint compatibility</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>üì± Application Development</h3>
                    <p><strong>Compatibility:</strong> <span class="status-partial">Good</span></p>
                    <ul>
                        <li>Good for API testing</li>
                        <li>Limited Graph API support</li>
                        <li>Basic user management</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>üè¢ Production Simulation</h3>
                    <p><strong>Compatibility:</strong> <span class="status-partial">Limited</span></p>
                    <ul>
                        <li>Not suitable for production</li>
                        <li>Limited security features</li>
                        <li>No data persistence</li>
                    </ul>
                </div>
            </div>
        </section>

        <section>
            <h2>Future Enhancements</h2>
            <p>Planned improvements to increase Azure API compatibility:</p>

            <div class="cards">
                <div class="card">
                    <h3>üîê Security</h3>
                    <ul>
                        <li>Signed JWT support</li>
                        <li>Certificate-based authentication</li>
                        <li>Enhanced RBAC implementation</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>üìä Data Management</h3>
                    <ul>
                        <li>Extended Graph API support</li>
                        <li>Long-running operations (LRO)</li>
                        <li>Data persistence options</li>
                    </ul>
                </div>

                <div class="card">
                    <h3>üîß Integration</h3>
                    <ul>
                        <li>Azure CLI compatibility</li>
                        <li>Azure PowerShell support</li>
                        <li>Multi-tenant support</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p>&copy; 2024 YourCloudTools. Part of the Sandman project.</p>
        <p>
            <a href="https://github.com/YourCloudTools/Mockzure">GitHub</a> |
            <a href="https://yourcloudtools.com">YourCloudTools</a> |
            <a href="https://github.com/YourCloudTools/Sandman">Sandman</a>
        </p>
    </footer>

    <script src="assets/script.js"></script>
</body>
</html>

